<div class="card">
    <div class="table-responsive custom-scrollbar">
        <div class="card-body">
            <!-- <form>
                <div class="mb-3 row">
                    <div class="col-auto">
                        <div class="btn btn-success" (click)="showFormEdit()"><i class="icon-plus"></i> Agregar convenio</div>
                    </div>
                    <div class="col-xs-3 col-sm-auto">
                        <input id="table-complete-search" type="text" placeholder="Buscar por palabra" class="form-control" name="searchTerm" [(ngModel)]="service.searchTerm" autocomplete="off" />
                    </div>
                    @if(service.loading$ | async){
                        <span class="col col-form-label">Cargando...</span>
                    }
                    @if(showEditSpace){
                        <div class="card m-2">
                            <form [formGroup]="agregarConvenioForm" (ngSubmit)="agregarConvenio()">
                                <div class="row p-3">
                                    <div class="col-3 pb-2">
                                        <label class="form-label" for="inpt-pais">Número de convenio</label>
                                        <input id="sigla" class="form-control" type="text" />
                                    </div>
                                    <div class="col-3 pb-2">
                                        <label class="form-label" for="inpt-pais">Estatus</label>
                                        <select id="inpt-estatus" class="form-select form-select-sm">
                                            <option value="" disabled selected>Seleccione una estatus</option>
                                            <option value="1">Activo</option>
                                            <option value="2">Inactiva</option>
                                        </select>
                                    </div>
                                    <div class="col-3 pb-2">
                                        <label class="form-label" for="inpt-pais">Fecha</label>
                                        <input id="sigla" class="form-control" type="text" />
                                    </div>
                                    <div class="col-3 pb-2 align-items-bottom">
                                        <div class="btn btn-success" (click)="showEditSpace=false">Guardar</div>
                                    </div>
                                </div>
                            </form> 
                        </div>
                    }
                </div>
                <table class="table table-striped data-striped">
                    <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col" sortable="numeroconvenio" >Número de convenio</th>
                            <th scope="col" sortable="estatus" >Estatus</th>
                            <th scope="col" sortable="fechaconvenio" >Fecha</th>
                            <th scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                         @for(data of convenios | async; track data){
                        <tr>
                            <th scope="row">{{data.id}}</th>
                            <td>
                                <ngb-highlight [result]="data.agreementDate" [term]="service.searchTerm"></ngb-highlight>
                            </td>
                            <td>
                                <ngb-highlight [result]="data.agreementNumber" [term]="service.searchTerm"></ngb-highlight>
                            </td>
                            <td>
                                <ngb-highlight [result]="data.status" [term]="service.searchTerm"></ngb-highlight>
                            </td>
                            <td>
                                <ul class="action">
                                    <div class="btn-pill btn-xs btn-warning d-flex align-items-center justify-content-center">
                                        <i class="fa fa-pen font-primary p-2"></i>
                                    </div>
                                    <div class="btn-pill btn-xs btn-danger" (click)=" removeItem(data.id)">
                                        <i class="fa fa-trash font-primary p-2"></i>
                                    </div>
                                </ul>
                            </td>
                        </tr>
                    }
                    @if(!Datos.length){
                        <tr class="odd">
                            <td colspan="8" class="dataTables_empty" style="text-align: center;">No se encontraron resultados.</td>
                        </tr>
                    }
                    </tbody>
                </table>
                <div class="d-flex justify-content-between p-2">
                    <select class="form-select" style="width: auto" name="pageSize" [(ngModel)]="service.pageSize">
                        <option [ngValue]="2">2 filas por página</option>
                        <option [ngValue]="4">4 filas por página</option>
                        <option [ngValue]="6">6 filas por página</option>
                        <option [ngValue]="10">10 filas por página</option>
                    </select>
                    <ngb-pagination class="ms-3" [collectionSize]="( total$ | async)!" [(page)]="service.page"
                        [pageSize]="service.pageSize">
                    </ngb-pagination>
                </div>
            </form> -->
        </div>
    </div>
</div>